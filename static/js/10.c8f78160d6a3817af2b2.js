webpackJsonp([10],{"7SBO":function(n,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={data:function(){return{tableData:[],options:{pagenum:1,pagesize:10},totalItem:0,currentPage:1,pageLoading:!0}},beforeMount:function(){var n=this;this.$store.dispatch("GetAdminList",n.options).then(function(t){if(console.log(t),t.data.adminList.length>0){for(var a in t.data.adminList)t.data.adminList[a].delLoading=!1,n.tableData.push(t.data.adminList[a]);n.totalItem=parseInt(t.data.Total),n.currentPage=n.options.pagenum,n.pageLoading=!1}else n.pageLoading=!1,n.tableData.length=0}).catch(function(){n.pageLoading=!1,n.tableData.length=0})},methods:{handleEdit:function(n,t){console.log(n,t),this.$router.push({name:"editAdmin",params:{id:t.id}})},handleDelete:function(n,t){console.log(n,t);var a=this;this.$confirm("此操作将删除该行, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.tableData[n].delLoading=!0,a.$store.dispatch("DelAdmin",t.id).then(function(n){var e=a.tableData.indexOf(t);e>-1&&a.tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.tableData[n].delLoading=!1})}).catch(function(){a.tableData[n].delLoading=!1,a.$message({type:"info",message:"已取消删除"})})},pageChange:function(n){console.log(n);var t=this;t.options.pagenum=n,t.tableData.length=0,this.$store.dispatch("GetAdminList",t.options).then(function(n){if(console.log(n),n.data.adminList.length>0){for(var a in n.data.adminList)n.data.adminList[a].delLoading=!1,t.tableData.push(n.data.adminList[a]);t.totalItem=parseInt(n.data.Total),t.currentPage=t.options.pagenum,t.pageLoading=!1}}).catch(function(){})}}},i={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.pageLoading,expression:"pageLoading"}],staticStyle:{width:"100%"},attrs:{data:n.tableData,stripe:"",border:!0,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"account",label:"账户",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"name",label:"管理员姓名",width:"180"}}),n._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),n._v(" "),a("el-table-column",{attrs:{label:"日期",sortable:"",width:"180"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),n._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[n._v(n._s(t.row.creat_time))])]}}])}),n._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:n._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){n.handleEdit(t.$index,t.row)}}},[n._v("编辑")]),n._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",loading:t.row.delLoading},on:{click:function(a){n.handleDelete(t.$index,t.row)}}},[n._v("删除")])]}}])})],1),n._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{background:"",layout:"prev, pager, next",total:n.totalItem,"page-size":10,"current-page":n.currentPage},on:{"current-change":n.pageChange}})],1)],1)],1)},staticRenderFns:[]};var o=a("XAIM")(e,i,!1,function(n){a("W4Y7")},"data-v-549c2693",null);t.default=o.exports},W4Y7:function(n,t,a){var e=a("aC4q");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("6imX")("15786586",e,!0)},aC4q:function(n,t,a){(n.exports=a("bKW+")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});